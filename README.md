# shift_logs_flask
(в процессе разработки)<br>

Shift logs - это веб-сервис для ведения и хранения журналов сменного персонала.<br>

Персоналом в течении смены вносястя записи и замечания, которые сохраняются, и в дальнейшем доступны для просмотра авторизованным в системе пользователям.

Персонал может создавать или изменять записи только своей смены, которая открывается при приёме смены и закрывается при её сдаче. После закрытия запись становится неизменяемой, что гарантирует достоверность и неподдельность записей.

## Рекомендации по развёртыванию проекта
 Склонируйте репозиторий, cоздайте и активируйте виртуальное окружение, установите зависимости:
``` 
git clone git@github.com:Pavel-Maksimov/shift_logs_flask.git
python3 -m venv venv
source venv/bin/activate   (для Windows: venv\Scripts\acticate)
python3 -m pip install --upgrate pip
pip install -r requirements.txt
```
Примените миграции для создания базы данных:
```
export FLASK_APP=shift_logs.py   (на Windows set FLASK_APP=shift_logs.py)
flask db upgrade
```
Запустите сервер разработчика:
```
flask run
```
Сервер будет запущен на http://127.0.0.1:5000.

Для входа в систему потребуется регистрация.
При первом входе в систему главная страница будет пуста, так как ведение сменных журналов не запущено. 

Чтобы начать ведение сменных журналов, необходимо создать первый журнал в Flask shell:
```
flask shell
>>>db.session.add(Log(author=User.query.get(1)))
>>>db.session.commit()
>>>quit()
```
После этого при последующем входе в систему появится первый сменный журнал.

Последующие журналы будут создаваться автоматически после сдачи и приёма предыдущей смены.
Для сохранения внесённых изменений в журнал необходимо нажать кнопку "Сохранить" в нижней части страницы редактирования журнала.
Для сдачи смены нажмите кнопку "Сдать смену". После сдачи смены сохранённые записи блокируются от внесения изменений.
